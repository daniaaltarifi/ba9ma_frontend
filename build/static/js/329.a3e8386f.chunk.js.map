{"version":3,"file":"static/js/329.a3e8386f.chunk.js","mappings":"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","sources":["Pages/BlogDetails.js","components/CommentForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../Css/blogDetails.css\";\r\nimport { FaFacebookF } from \"react-icons/fa\";\r\nimport { FaPinterestP } from \"react-icons/fa\";\r\nimport { FaYoutube } from \"react-icons/fa\";\r\nimport { FaInstagramSquare } from \"react-icons/fa\";\r\nimport { BsTwitterX } from \"react-icons/bs\";\r\nimport CommentForm from \"../components/CommentForm\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { API_URL } from \"../App\";\r\nfunction BlogDetails() {\r\n  const [blogDetails, setBlogDetails] = useState(null);\r\n  const [lastThreeBlogs, setLastThreeBlogs] = useState([]);\r\n  const [tags, setTags] = useState([]);\r\n  const [commentBlogs, setCommentBlogs] = useState([]);\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const fetchBlogDetails = async () => {\r\n      try {\r\n        const response = await fetch(`${API_URL}/blog/getBlogById/${id}`);\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch blog details\");\r\n        }\r\n        const data = await response.json();\r\n        setBlogDetails(data);\r\n        if (data.createdAt) {\r\n          const formattedDate = new Date(data.createdAt).toLocaleDateString(\"en-GB\", {\r\n            year: \"numeric\",\r\n            month: \"numeric\",\r\n            day: \"numeric\",\r\n          });\r\n          data.createdAt = formattedDate; // Overwrite the createdAt field with formatted date\r\n        }\r\n        console.log(\"data: \", data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching blog details:\", error);\r\n      }\r\n    };\r\n\r\n    const fetchLastThreeBlogs = async () => {\r\n      const response = await axios.get(`${API_URL}/blog/lastthree`);\r\n      const blogsData = response.data;\r\n      const approvedBlogs = blogsData.filter(\r\n        (blog) => blog.action === \"approved\"\r\n      );\r\n      setLastThreeBlogs(approvedBlogs);\r\n    };\r\n    const fetchTags = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/Tags/getUniqueTags`);\r\n        const tags = response.data;\r\n        setTags(tags); // Assuming setTags is a function to update your state\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch tags:\", error);\r\n      }\r\n    };\r\n    const fetchCommentBlogs = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/commentBlogs/getAllCommentBlogs`);\r\n        const comments = response.data;\r\n        const approvedComments = comments.filter(\r\n          (comment) => comment.action === \"approved\"\r\n        );\r\n        setCommentBlogs(approvedComments);\r\n      } catch (error) {\r\n        console.error(\"Error fetching comments:\", error);\r\n      }\r\n    };\r\n    fetchBlogDetails();\r\n    fetchLastThreeBlogs();\r\n    fetchTags();\r\n    fetchCommentBlogs();\r\n  }, [id]);\r\n\r\n  const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\r\n  const totalSlides = Math.ceil(commentBlogs.length / 3);\r\n\r\n  const goToNextSlide = () => {\r\n    setCurrentSlideIndex((prevIndex) =>\r\n      prevIndex === totalSlides - 1 ? 0 : prevIndex + 1\r\n    );\r\n  };\r\n\r\n  const goToPrevSlide = () => {\r\n    setCurrentSlideIndex((prevIndex) =>\r\n      prevIndex === 0 ? totalSlides - 1 : prevIndex - 1\r\n    );\r\n  };\r\n  // Calculate which comments to display based on current slide index\r\n  const startIndex = currentSlideIndex * 3;\r\n  const endIndex = startIndex + 3;\r\n  const visibleComments = commentBlogs.slice(startIndex, endIndex);\r\n\r\n  // Adjust the visible comments to ensure exactly three are displayed\r\n  while (visibleComments.length < 3) {\r\n    visibleComments.push(null); // Add placeholders if there are fewer than three comments\r\n  }\r\n  const handleSubmit = async (name, email, comment) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${API_URL}/commentBlogs/addCommentBlog`,\r\n        {\r\n          name: name,\r\n          email: email,\r\n          comment: comment,\r\n          blog_id: id, // Assuming `id` is the correct identifier for `blog_id`\r\n        }\r\n      );\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error(\"Error submitting comment:\", error);\r\n    }\r\n  };\r\n  if (!blogDetails) {\r\n    return <p>Loading...</p>; // Or a loading spinner if you prefer\r\n  }\r\n  // Destructure properties from blogDetails safely\r\n  const { title, author, descr, img, createdAt } = blogDetails;\r\n\r\n  return (\r\n    <>\r\n      {/* header of course details */}\r\n\r\n      <div>\r\n        <div className=\"container text-center cont_course_details\">\r\n          <div className=\"row justify-content-center align-items-center\">\r\n            <div className=\"col-lg-6 col-md-6 cl-sm-12 d-flex justify-content-center\">\r\n              <img\r\n                src={`https://res.cloudinary.com/durjqlivi/${img}`}\r\n                alt=\"coursedetails\"\r\n                className=\"img-fluid img_blogdetails\"\r\n                loading=\"lazy\"\r\n              />{\" \"}\r\n            </div>\r\n            <div className=\"col-lg-6 col-md-6 col-sm-12  justify-content-center align-items-center\">\r\n              <div className=\"d-flex justify-content-evenly \">\r\n                <p className=\"title_blogdetails\">{title}</p>\r\n                <p className=\"teacher_coursedetails ms-5\">{author}</p>\r\n                <i\r\n                  className=\"fa-solid fa-clock card_icon \"\r\n                  style={{ color: \"#F57D20\" }}\r\n                ></i>\r\n                <p className=\"date_blogdetails\"> {createdAt}</p>\r\n              </div>\r\n              <h1 className=\"title_coursedetails\"> {title} </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* End header of course details */}\r\n        <section className=\"margin_section\">\r\n          <div className=\"container \">\r\n            <div className=\"row \">\r\n              <div className=\"col-lg-8 col-md-12 col-sm-12 cont_blogdetails\">\r\n                <p className=\"desc_blogdetails\">{descr}</p>\r\n\r\n                <div className=\"share_blogdetails_cont \">\r\n                  <div>\r\n                    <p className=\"categories_title\">مشاركة: </p>\r\n                  </div>\r\n\r\n                  <div className=\"social_blogdetails\">\r\n                    <FaFacebookF className=\"social_icon_blogdetails\" />\r\n                    <FaPinterestP className=\"social_icon_blogdetails\" />\r\n                    <FaYoutube className=\"social_icon_blogdetails\" />\r\n                    <FaInstagramSquare className=\"social_icon_blogdetails\" />\r\n                    <BsTwitterX className=\"social_icon_blogdetails\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"container slider_blogdetails\">\r\n                  <div className=\"slider\">\r\n                    <div className=\"slider-content\">\r\n                      {commentBlogs.map((comment, index) => (\r\n                        <div className=\"slider-item\" key={index}>\r\n                          {comment && (\r\n                            <div className=\"row mb-2\">\r\n                              <div className=\"col-lg-1 col-md-2 col-sm-12\">\r\n                                <img\r\n                                  src={require(\"../assets/acc_icon.png\")}\r\n                                  alt=\"\"\r\n                                  height={\"70vh\"}\r\n                                  width={\"70vh\"}\r\n                                  className=\"ps-3\"\r\n                                  loading=\"lazy\"\r\n                                />\r\n                              </div>\r\n                              <div className=\"col-lg-11 col-md-10 col-sm-12 \">\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                  <p className=\"teacher_name_coursedetails\">\r\n                                    {comment.name}\r\n                                  </p>\r\n                                  <p className=\"comment_date_coursedetails\">\r\n                                    {comment.createdAt}\r\n                                  </p>\r\n                                </div>\r\n                                <p className=\"desc_of_teacher_coursedetails\">\r\n                                  {comment.comment}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center mt-3\">\r\n                  <div\r\n                    className=\"col-md-12 col-sm-12 col_btn_prevNext\"\r\n                    style={{ marginTop: \"10px\" }}\r\n                  >\r\n                    <button onClick={goToNextSlide} className=\"btn mb-3\">\r\n                      <i className=\"fa fa-arrow-right\"></i>\r\n                    </button>\r\n                    <div\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        marginTop: \"5px\",\r\n                        fontSize: \"18px\",\r\n                      }}\r\n                    >\r\n                      {/* Displaying current slide number in bold */}\r\n                      <span style={{ fontWeight: \"bold\" }}>\r\n                        {currentSlideIndex + 1}\r\n                      </span>{\" \"}\r\n                      / {totalSlides}\r\n                    </div>\r\n                    <button onClick={goToPrevSlide} className=\"btn mb-3\">\r\n                      <i className=\"fa fa-arrow-left\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <CommentForm\r\n                  title=\"اترك تعليق\"\r\n                  btn_title=\"تعليق\"\r\n                  handleSubmit={handleSubmit}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 col-md-12 col-sm-12 \">\r\n                <p className=\"categories_title\">المقالات الأخيرة</p>\r\n                {lastThreeBlogs.map((lastthreeblogs) => (\r\n                  <Link\r\n                    to={`/blogdetails/${lastthreeblogs.id}`}\r\n                    style={{ textDecoration: \"none\", color: \"#000\" }}\r\n                  >\r\n                    <div className=\"categ_lastblog_cont\">\r\n                      <img\r\n                        src={`https://res.cloudinary.com/durjqlivi/${lastthreeblogs.img}`}\r\n                        alt=\"\"\r\n                        className=\"img-fluid img_last_blog\"\r\n                        loading=\"lazy\"\r\n                      />\r\n                      <p className=\"desc_last_blog\">{lastthreeblogs.title}</p>\r\n                    </div>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BlogDetails;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../Css/commentForm.css\";\r\nfunction CommentForm({title,btn_title ,handleSubmit }) {\r\n\r\n\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [comment, setComment] = useState('');\r\n  const [rating, setRating] = useState(0);\r\n \r\n\r\n  const handleSubmitForm = async (event) => {\r\n    event.preventDefault(); \r\n\r\n    // Form validation\r\n    if (!name || !email || !comment || rating === 0) {\r\n      alert(\"الرجاء ملء جميع الحقول وتحديد التقييم.\");\r\n      return;\r\n    }\r\n\r\n    // Email validation\r\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailPattern.test(email)) {\r\n      alert(\"الرجاء إدخال بريد إلكتروني صحيح.\");\r\n      return;\r\n    } \r\n\r\n    try {\r\n      await handleSubmit(name, email, comment , rating); \r\n    // Clear the form data after successful submission\r\n    setName('');\r\n    setEmail('');\r\n    setComment('');\r\n    setRating(0);\r\n  \r\n\r\n    \r\n    } catch (error) {\r\n      console.error(\"Error submitting comment:\", error);\r\n    }\r\n  };\r\n\r\n  const handleRatingChange = (newRating) => {\r\n    setRating(newRating);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <section className=\"margin_section\">\r\n        <div className=\"container \">\r\n          <div className=\"row\">\r\n            {/* <div className=\"col-lg-5 col-md-6 col-sm-12\">\r\n\r\n            </div> */}\r\n            <div className=\"col-lg-12 col-md-6 col-sm-12\">\r\n          <h2 className=\"leave_comment_title\">{title}</h2>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_comment_form\">الاسم</p>\r\n                  <input\r\n                   type=\"text\"\r\n                   name=\"name\"\r\n                   value={name}\r\n                   onChange={(e) => setName(e.target.value)}\r\n\r\n                   className=\"comment_form_input\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_comment_form\">البريد الالكنروني</p>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    className=\"comment_form_input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12 col-md-12 col-sm-12\">\r\n                <p className=\"title_of_comment_form\">التعليق </p>\r\n                  <input\r\n                    type=\"textarea\"\r\n                    className=\"textarea_input_commentForm\"\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                   \r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_comment_form\">التقييم</p>\r\n                  <div className=\"rating-input\">\r\n                    {[1, 2, 3, 4, 5].map((star) => (\r\n                      <i\r\n                        key={star}\r\n                        className={`fa-star ${star <= rating ? 'fa-solid' : 'fa-regular'}`}\r\n                        style={{ color: '#F6B40A', cursor: 'pointer' }}\r\n                        onClick={() => handleRatingChange(star)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col d-flex justify-content-center\">\r\n                    <button type=\"submit\" onClick={handleSubmitForm} className=\"submit_button_commentForm\">\r\n                      {btn_title}\r\n                    </button>\r\n  \r\n                   \r\n                </div>\r\n             \r\n       \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CommentForm;"],"names":["blogDetails","setBlogDetails","useState","lastThreeBlogs","setLastThreeBlogs","tags","setTags","commentBlogs","setCommentBlogs","id","useNavigate","useParams","useEffect","async","response","fetch","concat","API_URL","ok","Error","data","json","createdAt","formattedDate","Date","toLocaleDateString","year","month","day","console","log","error","fetchBlogDetails","approvedBlogs","axios","get","filter","blog","action","fetchLastThreeBlogs","fetchTags","approvedComments","comment","fetchCommentBlogs","currentSlideIndex","setCurrentSlideIndex","totalSlides","Math","ceil","length","startIndex","endIndex","visibleComments","slice","push","_jsx","children","title","author","descr","img","_Fragment","_jsxs","className","src","alt","loading","style","color","FaFacebookF","FaPinterestP","FaYoutube","FaInstagramSquare","BsTwitterX","map","index","require","height","width","name","marginTop","onClick","goToNextSlide","prevIndex","textAlign","fontSize","fontWeight","goToPrevSlide","CommentForm","btn_title","handleSubmit","email","post","blog_id","window","location","reload","lastthreeblogs","Link","to","textDecoration","_ref","setName","setEmail","setComment","rating","setRating","type","value","onChange","e","target","star","cursor","event","preventDefault","alert","test"],"sourceRoot":""}