{"version":3,"file":"static/js/380.bbe992b5.chunk.js","mappings":"4NAiSA,QAtRA,WACE,MAAOA,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,KAC5CG,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,IAC1CK,EAASC,IAAcN,EAAAA,EAAAA,UAAS,KAChCO,EAAYC,IAAiBR,EAAAA,EAAAA,UAAS,KACtCS,EAAoBC,IAAyBV,EAAAA,EAAAA,UAAS,IACvDW,EAAeC,UACnB,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,GAADC,OAAIC,EAAAA,EAAO,4BAC3CX,EAAWO,EAASK,KACtB,CAAE,MAAOC,GACPC,QAAQD,MAAM,0BAA2BA,EAC3C,IAEFE,EAAAA,EAAAA,YAAU,KACRC,OAAOC,SAAS,EAAG,GAUnBZ,IATyBC,WACvB,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,GAADC,OAAIC,EAAAA,EAAO,gCAC3CT,EAAcK,EAASK,KACzB,CAAE,MAAOC,GACPC,QAAQD,MAAM,8BAA+BA,EAC/C,GAIFK,EAAkB,GACjB,IACH,MAAMC,EAAqBC,IACzB,MAAMC,EAAQD,EAAME,OAAOC,MAC3B9B,EAAe4B,GAGf,MAAMG,EAAkBzB,EAAQ0B,QAAQ1B,GACtCA,EAAQ2B,UAAUC,cAAcC,SAASP,EAAMM,iBAGjD/B,EAAiB4B,EAAgB,EAK7BK,EAAYC,KAAKC,KAAKhC,EAAQiC,OAFZ,GAWlBC,EAAaC,IACjBpC,EAAgBoC,EAAW,GAqB7BnB,EAAAA,EAAAA,YAAU,KACJpB,EAAcqC,OAAS,EACzBhC,EAAWL,GAGXU,GACF,GACC,CAACV,IACJ,MAAOwC,EAAOC,IAAW1C,EAAAA,EAAAA,UAAS,KAI9B,KAAE2C,IAASC,EAAAA,EAAAA,MAYf,OAVFvB,EAAAA,EAAAA,YAAU,KACR,GAAIsB,EAAM,CACR,MAAME,EAAUC,SAASC,cAAcJ,GACnCE,GACFA,EAAQG,eAAe,CAAEC,SAAU,UAEvC,IACC,CAACN,KAIAO,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EAEEC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACb,OAAQA,KACpBY,EAAAA,EAAAA,KAAA,WAASE,UAAU,iBAAgBC,GAAG,gBAAeJ,UACnDC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,aAAYH,UACzBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,OAAMH,SAAA,EACnBC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,8BAA6BH,UAC1CF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,iBAAgBH,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KACEE,UAAU,qCACVE,MAAO,CAAEC,MAAO,aACZ,QAERL,EAAAA,EAAAA,KAAA,SACEM,KAAK,OACLC,YAAY,iEACZ/B,MAAO/B,EACPyD,UAAU,gBACVM,SAAUpC,KAEZyB,EAAAA,EAAAA,MAAA,KACEW,SAAUpC,EACV8B,UAAU,kCAAiCH,SAAA,CAC5C,qBACK,aAIVC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,8BAA6BH,UAC1CF,EAAAA,EAAAA,MAAA,UACEY,KAAK,aACLjC,MAAOpB,EACPoD,SA/DYE,IACxB,MAAMC,EAAuBD,EAAEnC,OAAOC,MACtCnB,EAAsBsD,GAfYpD,WAClC,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,GAADC,OAC3BC,EAAAA,EAAO,wBAAAD,OAAuBgD,IAEnC1D,EAAWO,EAASK,KACtB,CAAE,MAAOC,GACPC,QAAQD,MAAM,+CAADH,OACoCgD,EAAoB,KACnE7C,EAEJ,GAKA8C,CAA4BD,EAAqB,EA6DrCR,GAAG,OACHD,UAAU,aAAYH,SAAA,EAEtBC,EAAAA,EAAAA,KAAA,UAAQxB,MAAM,GAAEuB,SAAC,gDAChB7C,EAAW2D,KAAKC,IACfd,EAAAA,EAAAA,KAAA,UAAqBxB,MAAOsC,EAAIX,GAAGJ,SAChCe,EAAIC,OADMD,EAAIX,YAOvBH,EAAAA,EAAAA,KAAA,OAAKE,UAAU,wCAKrBF,EAAAA,EAAAA,KAAA,OAAKE,UAAU,gBAAeH,UAC5BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,aAAYH,UACzBF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,kEAAiEH,SAAA,CAC7E/C,EAAQ6D,KAAI,CAAChD,EAAMmD,KAClBnB,EAAAA,EAAAA,MAAA,OAAKK,UAAU,8BAA6BH,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,OACEE,UAAS,SAAAvC,OAAWqD,IAAUlE,EAAe,SAAW,IAAKiD,UAE7DF,EAAAA,EAAAA,MAAA,OAAKK,UAAU,iBAAgBH,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,OACEiB,IAAKC,EAAQ,MACbhB,UAAU,kCACViB,IAAI,UACJC,QAAQ,UAEVvB,EAAAA,EAAAA,MAAA,OAAKK,UAAU,YAAWH,SAAA,EACxBC,EAAAA,EAAAA,KAAA,OAAAD,UAEEF,EAAAA,EAAAA,MAAA,KAAGK,UAAU,qBAAoBH,SAAA,CAC9B,IACAlC,EAAKX,WAAW6D,YAGrBlB,EAAAA,EAAAA,MAAA,OAAKK,UAAU,iCAAgCH,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,KAAGE,UAAU,oBAAmBH,SAAElC,EAAKc,YAAe,KACtDkB,EAAAA,EAAAA,MAAA,KAAGK,UAAU,qBAAoBH,SAAA,CAAElC,EAAKwD,OAAO,WAEjDrB,EAAAA,EAAAA,KAAA,MAAII,MAAO,CAAEkB,UAAW,UACxBzB,EAAAA,EAAAA,MAAA,OAAKK,UAAU,iCAAgCH,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,KACEE,UAAU,6BACVE,MAAO,CAAEC,MAAO,cAElBR,EAAAA,EAAAA,MAAA,KAAGK,UAAU,uBAAsBH,SAAA,CAChC,IACAlC,EAAK0D,SAAS,+BAEjBvB,EAAAA,EAAAA,KAAA,KACEE,UAAU,8BACVE,MAAO,CAAEC,MAAO,aACZ,KACNL,EAAAA,EAAAA,KAAA,KAAGE,UAAU,uBAAsBH,SACxB,IAAIyB,KACD3D,EAAK4D,WACLC,mBAAmB,QAAS,CAC5BC,KAAM,UACNC,MAAO,UACPC,IAAK,eAGnB7B,EAAAA,EAAAA,KAAC8B,EAAAA,GAAI,CAACvD,OAAO,SAASwD,GAAE,iEAAApE,OAAmEE,EAAKmE,WAAYjC,UAC5GF,EAAAA,EAAAA,MAAA,UACEO,MAAO,CACL6B,gBAAiB,UACjBC,OAAQ,OACRC,aAAc,OACd9B,MAAO,OACP+B,SAAU,OACVC,OAAQ,QAEVnC,UAAU,OAAMH,SAAA,CAEf,KACDC,EAAAA,EAAAA,KAAA,KACEE,UAAU,4BACVE,MAAO,CAAEC,MAAO,aACb,iDAOR,MArEyCxC,EAAKsC,OAwEzDN,EAAAA,EAAAA,MAAA,OACEK,UAAU,uCACVE,MAAO,CAAEkB,UAAW,QAASvB,SAAA,EAE7BF,EAAAA,EAAAA,MAAA,UAAQyC,QAzLFC,KAChBxF,GAAiBD,EAAe,GAAKgC,EAAU,EAwLToB,UAAU,aAAYH,SAAA,CAC/C,KACDC,EAAAA,EAAAA,KAAA,KAAGE,UAAU,0BAEfL,EAAAA,EAAAA,MAAA,OACEO,MAAO,CACLoC,UAAW,SACXlB,UAAW,MACXc,SAAU,QACVrC,SAAA,CAED,KAEDC,EAAAA,EAAAA,KAAA,QAAMI,MAAO,CAAEqC,WAAY,OAAUC,aAAc,OAC7CC,YAAa,QAAS5C,SACzBjD,EAAe,IAGjBA,EAAe,IACdkD,EAAAA,EAAAA,KAAA,QACEI,MAAO,CAAEwC,OAAQ,WACjBN,QAASA,IAAMpD,EAAUpC,EAAe,GAAGiD,SAE1CjD,EAAe,IAEjB,IAEFA,EAAe,IACdkD,EAAAA,EAAAA,KAAA,QACEI,MAAO,CAAEwC,OAAQ,WACjBN,QAASA,IAAMpD,EAAUpC,EAAe,GAAGiD,SAE1CjD,QAIP+C,EAAAA,EAAAA,MAAA,UAAQyC,QAzNFO,KAChB9F,GAAiBD,EAAe,EAAIgC,GAAaA,EAAU,EAwNrBoB,UAAU,cAAaH,SAAA,CAChD,KACDC,EAAAA,EAAAA,KAAA,KAAGE,UAAU,oCAQ7B,C","sources":["Pages/Library.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport React from \"react\";\r\nimport SliderComp from \"../components/SliderComp\";\r\nimport { useNavigate ,useLocation, Link} from \"react-router-dom\";\r\nimport \"../Css/courses.css\";\r\n\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../App\";\r\nfunction Library() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [library, setLibrary] = useState([]);\r\n  const [department, setDepartment] = useState([]);\r\n  const [selectedDepartment, setSelectedDepartment] = useState(\"\");\r\n  const fetchLibrary = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/Libraries/getLibraries`);\r\n      setLibrary(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching library:\", error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/departments/getDepartments`);\r\n        setDepartment(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching departments:\", error);\r\n      }\r\n    };\r\n\r\n    fetchLibrary();\r\n    fetchDepartments();\r\n  }, []);\r\n  const handleInputChange = (event) => {\r\n    const query = event.target.value;\r\n    setSearchQuery(query);\r\n\r\n    // Filter the courses based on the search query\r\n    const filteredResults = library.filter((library) =>\r\n      library.book_name.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n\r\n    setSearchResults(filteredResults);\r\n  };\r\n\r\n  const libraryPerSlide = 9; // Maximum library per slide\r\n\r\n  const numSlides = Math.ceil(library.length / libraryPerSlide);\r\n\r\n  const nextSlide = () => {\r\n    setCurrentSlide((currentSlide + 1) % numSlides);\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    setCurrentSlide((currentSlide - 1 + numSlides) % numSlides);\r\n  };\r\n  const goToSlide = (slideIndex) => {\r\n    setCurrentSlide(slideIndex);\r\n  };\r\n\r\n  const fetchLibraryBasedDepartment = async (selectedDepartmentId) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${API_URL}/Libraries/getbydep/${selectedDepartmentId}`\r\n      ); \r\n      setLibrary(response.data);\r\n    } catch (error) {\r\n      console.error(\r\n        `Error fetching library items for department ${selectedDepartmentId}:`,\r\n        error\r\n      );\r\n    }\r\n  };\r\n  const handleDepartment = (e) => {\r\n    const selectedDepartmentId = e.target.value;\r\n    setSelectedDepartment(selectedDepartmentId);\r\n    fetchLibraryBasedDepartment(selectedDepartmentId);\r\n  };\r\n  useEffect(() => {\r\n    if (searchResults.length > 0) {\r\n      setLibrary(searchResults);\r\n    } else {\r\n      // If searchResults is empty, reset to original library data\r\n      fetchLibrary(); // Fetch original library data again\r\n    }\r\n  }, [searchResults]);\r\n  const [slider,setSlider]=useState([])\r\n\r\n\r\n\r\nconst { hash } = useLocation();\r\n\r\nuseEffect(() => {\r\n  if (hash) {\r\n    const element = document.querySelector(hash);\r\n    if (element) {\r\n      element.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }\r\n}, [hash]);\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      <SliderComp slider={slider} />\r\n      <section className=\"margin_section\"id=\"order-section\">\r\n        <div className=\"container \">\r\n          <div className=\"row \">\r\n            <div className=\"col-lg-3 col-md-4 col-sm-12\">\r\n              <div className=\"navbar__search\">\r\n                <span>\r\n                  <i\r\n                    className=\"fa-solid fa-magnifying-glass fa-sm\"\r\n                    style={{ color: \"#833988\" }}\r\n                  ></i>{\" \"}\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"ابحث عن مادة\"\r\n                  value={searchQuery}\r\n                  className=\"search_course\"\r\n                  onChange={handleInputChange}\r\n                />\r\n                <a\r\n                  onChange={handleInputChange}\r\n                  className=\"btn btn-s purple_btn search_btn\"\r\n                >\r\n                  بحث{\" \"}\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-3 col-md-4 col-sm-12\">\r\n              <select\r\n                name=\"department\"\r\n                value={selectedDepartment}\r\n                onChange={handleDepartment}\r\n                id=\"lang\"\r\n                className=\"select_dep\"\r\n              >\r\n                <option value=\"\">اختر قسم</option>\r\n                {department.map((dep) => (\r\n                  <option key={dep.id} value={dep.id}>\r\n                    {dep.title}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              \r\n            </div>\r\n            <div className=\"col-lg-6 col-md-4 col-sm-12\"></div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"slick-wrapper\">\r\n        <div className=\"container \">\r\n          <div className=\"row d-flex  flex-wrap justify-content-center align-items-center\">\r\n            {library.map((data, index) => (\r\n              <div className=\"col-lg-4 col-md-6 col-sm-12\" key={data.id}>\r\n                <div\r\n                  className={`slide ${index === currentSlide ? \"active\" : \"\"}`}\r\n                >\r\n                  <div className=\"card card_cont\">\r\n                    <img\r\n                      src={require(\"../assets/course.webp\")}\r\n                      className=\"card-img-top img-fluid card_img\"\r\n                      alt=\"library\"\r\n                      loading=\"lazy\"\r\n                    />\r\n                    <div className=\"card-body\">\r\n                      <div>\r\n                        {/* rating here */}\r\n                        <p className=\"card-text card_dep\">\r\n                          {\" \"}\r\n                          {data.department.title}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <p className=\"course_title_card\">{data.book_name}</p>{\" \"}\r\n                        <p className=\" teacher_name_card\">{data.author} </p>\r\n                      </div>\r\n                      <hr style={{ marginTop: \"1px\" }} />\r\n                      <div className=\"d-flex justify-content-between\">\r\n                        <i\r\n                          className=\"fa-solid fa-file card_icon\"\r\n                          style={{ color: \"#F57D20\" }}\r\n                        ></i>\r\n                        <p className=\"details_courses_card\">\r\n                          {\" \"}\r\n                          {data.page_num}صفحة\r\n                        </p>\r\n                        <i\r\n                          className=\"fa-solid fa-clock card_icon\"\r\n                          style={{ color: \"#F57D20\" }}\r\n                        ></i>{\" \"}\r\n                        <p className=\"details_courses_card\">\r\n                                  {new Date(\r\n                                      data.createdAt\r\n                                    ).toLocaleDateString(\"en-GB\", {\r\n                                      year: \"numeric\",\r\n                                      month: \"numeric\",\r\n                                      day: \"numeric\",\r\n                                    })}\r\n                        </p>\r\n                        <Link target=\"blankk\" to={`https://res.cloudinary.com/dqimsdiht/image/upload/v1734943495/${data.file_book}`}>\r\n                        <button\r\n                          style={{\r\n                            backgroundColor: \"#833988\",\r\n                            border: \"none\",\r\n                            borderRadius: \"25px\",\r\n                            color: \"#fff\",\r\n                            fontSize: \"12px\",\r\n                            height: \"35px\",\r\n                          }}\r\n                          className=\"px-3\"\r\n                        >\r\n                          {\" \"}\r\n                          <i\r\n                            className=\"fa-solid fa-download px-2\"\r\n                            style={{ color: \"#ffffff\" }}\r\n                          ></i>\r\n                          تحميل\r\n                        </button>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>{\" \"}\r\n              </div>\r\n            ))}\r\n            <div\r\n              className=\"col-md-12 col-sm-12 col_btn_prevNext\"\r\n              style={{ marginTop: \"10px\" }}\r\n            >\r\n              <button onClick={nextSlide} className=\"btn mb-3  \">\r\n                {\" \"}\r\n                <i className=\"fa fa-arrow-right\"></i>\r\n              </button>\r\n              <div\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  marginTop: \"5px\",\r\n                  fontSize: \"18px\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                {/* Current Slide Number */}\r\n                <span style={{ fontWeight: \"bold\",   paddingRight: \"15px\",\r\n                      paddingLeft: \"10px\",}}>\r\n                  {currentSlide + 1}\r\n                </span>\r\n                {/* Next Slide Number */}\r\n                {currentSlide < 3 && ( // Replace `3` with the total number of slides minus one\r\n                  <span\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() => goToSlide(currentSlide + 1)}\r\n                  >\r\n                    {currentSlide + 2}\r\n                  </span>\r\n                )}{\" \"}\r\n                {/* Previous Slide Number */}\r\n                {currentSlide > 0 && (\r\n                  <span\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() => goToSlide(currentSlide - 1)}\r\n                  >\r\n                    {currentSlide}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <button onClick={prevSlide} className=\"btn  mb-3  \">\r\n                {\" \"}\r\n                <i className=\"fa fa-arrow-left\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Library;\r\n"],"names":["searchQuery","setSearchQuery","useState","searchResults","setSearchResults","currentSlide","setCurrentSlide","library","setLibrary","department","setDepartment","selectedDepartment","setSelectedDepartment","fetchLibrary","async","response","axios","get","concat","API_URL","data","error","console","useEffect","window","scrollTo","fetchDepartments","handleInputChange","event","query","target","value","filteredResults","filter","book_name","toLowerCase","includes","numSlides","Math","ceil","length","goToSlide","slideIndex","slider","setSlider","hash","useLocation","element","document","querySelector","scrollIntoView","behavior","_jsxs","_Fragment","children","_jsx","SliderComp","className","id","style","color","type","placeholder","onChange","name","e","selectedDepartmentId","fetchLibraryBasedDepartment","map","dep","title","index","src","require","alt","loading","author","marginTop","page_num","Date","createdAt","toLocaleDateString","year","month","day","Link","to","file_book","backgroundColor","border","borderRadius","fontSize","height","onClick","nextSlide","textAlign","fontWeight","paddingRight","paddingLeft","cursor","prevSlide"],"sourceRoot":""}