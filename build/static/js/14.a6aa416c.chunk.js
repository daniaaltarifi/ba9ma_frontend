"use strict";(self.webpackChunknaja=self.webpackChunknaja||[]).push([[14],{2014:(e,a,s)=>{s.r(a),s.d(a,{default:()=>r});var l=s(5043),c=s(3216),t=s(5475),i=s(6213),o=s(353),n=s(579);const r=function(){var e;const[a,s]=(0,l.useState)(""),[r,d]=(0,l.useState)([]),[m,g]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),[j,b]=(0,l.useState)([]),[u,_]=(0,l.useState)(null),[N,p]=(0,l.useState)([]),v=(0,c.Zp)(),f=null===(e=(0,c.zy)().state)||void 0===e?void 0:e.tag_name;(0,l.useEffect)((()=>{window.scrollTo(0,0),(async()=>{try{const e=(await i.A.get("".concat(o.H,"/dynamicBlogs/getDynamicBlogs"))).data;p(e)}catch(e){console.log("Error getting data from frontend: ".concat(e))}})(),(async()=>{try{const e=(await i.A.get("".concat(o.H,"/blog/All-blogs"))).data.filter((e=>"approved"===e.action));if(g(e),e.createdAt){const a=new Date(e.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"numeric",day:"numeric"});e.createdAt=a}}catch(e){}})(),(async()=>{try{const e=(await i.A.get("".concat(o.H,"/Tags/getUniqueTags"))).data;x(e)}catch(e){console.error("Failed to fetch tags:",e)}})(),(async()=>{const e=(await i.A.get("".concat(o.H,"/blog/lastthree"))).data.filter((e=>"approved"===e.action));b(e)})()}),[]);const y=e=>{A(0);const a=e.target.value;s(a);const l=m.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));d(l)},[w,C]=(0,l.useState)([]),[S,A]=(0,l.useState)(0),T=Math.ceil(w.length/5);(0,l.useEffect)((()=>{let e=[];e=a.length>0?m.filter((e=>e.title.toLowerCase().includes(a.toLowerCase()))):null!==u?m.filter((e=>e.id===u)):f?m.filter((e=>e.tag_name===f)):m,C(e),A(0)}),[m,a,u,f]);const k=5*S,D=k+5,B=w.slice(k,D);return(0,n.jsxs)(n.Fragment,{children:[N.map((e=>(0,n.jsxs)("div",{className:"header_blog",children:[(0,n.jsx)("p",{className:"title_header_blog",children:e.title}),(0,n.jsx)("div",{className:"paragraph_cont",children:(0,n.jsx)("p",{className:"paragraph_header_blog",children:e.descr})})]},e.id))),(0,n.jsx)("section",{className:"margin_section",children:(0,n.jsx)("div",{className:"container ",children:(0,n.jsxs)("div",{className:"row ",children:[(0,n.jsxs)("div",{className:"col-lg-8 col-md-12 col-sm-12 col_blog",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-7 col-md-12 col-sm-12",children:(0,n.jsx)("h1",{className:"title_blog",children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0642\u0627\u0644\u0627\u062a"})}),(0,n.jsx)("div",{className:"col-lg-5 col-md-12 col-sm-12",children:(0,n.jsxs)("div",{className:"navbar__search",children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"fa-solid fa-magnifying-glass fa-sm",style:{color:"#833988"}})," "]}),(0,n.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0648\u0636\u0648\u0639",value:a,className:"search_blog",onChange:y}),(0,n.jsxs)("a",{className:"btn btn-s purple_btn search_btn_blog",onChange:y,children:["\u0628\u062d\u062b"," "]}),a&&(0,n.jsx)("ul",{className:"search_dropdown",children:r.length>0?r.map((e=>(0,n.jsxs)("li",{onClick:()=>{v("/blogdetails/".concat(e.id)),window.scrollTo(0,0)},children:[(0,n.jsx)("img",{src:"https://res.cloudinary.com/durjqlivi/".concat(e.img),alt:e.title,loading:"lazy"}),e.title]},e.id))):(0,n.jsx)("li",{children:"No blogs found."})})]})})]}),B.map(((e,a)=>{var s;return(0,n.jsx)(t.N_,{to:"/blogdetails/".concat(e.id),style:{textDecoration:"none"},children:(0,n.jsx)("div",{className:"card mb-3 card_cont_blog",children:e?(0,n.jsxs)("div",{className:"row g-0",children:[(0,n.jsx)("div",{className:"col-lg-4 col-md-4 col-sm-12 img_col_blogs",children:(0,n.jsx)("img",{src:"https://res.cloudinary.com/durjqlivi/".concat(e.img),className:"img-fluid img_blog",alt:"blog",loading:"lazy"})}),(0,n.jsxs)("div",{className:"col-lg-8 col-md-8 col-sm-12",children:[(0,n.jsx)("div",{className:"card-body card_body_blog",children:(0,n.jsxs)("div",{className:"cont_info_blog",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"card-title blog_title",children:e.title}),(0,n.jsx)("small",{className:"blog_dep",children:null===(s=e.Tag)||void 0===s?void 0:s.tag_name})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:" teacher_name_blog",children:e.author}),(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)("i",{className:"fa-solid fa-clock card_icon ms-2",style:{color:"#F57D20"}}),(0,n.jsxs)("p",{className:"details_blogs_card ",children:[new Date(e.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"numeric",day:"numeric"})," "]})]})]})]})}),(0,n.jsx)("p",{className:"card-text desc_blog ",children:e.descr})]})]}):(0,n.jsx)("div",{className:"col-md-12 col-sm-12"})},a)})})),(0,n.jsx)("div",{className:"text-center mt-3",children:(0,n.jsxs)("div",{className:"col-md-12 col-sm-12 col_btn_prevNext",style:{marginTop:"10px"},children:[(0,n.jsx)("button",{onClick:()=>{A((e=>e===T-1?0:e+1))},className:"btn mb-3",children:(0,n.jsx)("i",{className:"fa fa-arrow-right"})}),(0,n.jsxs)("div",{style:{textAlign:"center",marginTop:"5px",fontSize:"18px"},children:[(0,n.jsx)("span",{style:{fontWeight:"bold"},children:S+1})," ","/ ",T]}),(0,n.jsx)("button",{onClick:()=>{A((e=>0===e?T-1:e-1))},className:"btn mb-3",children:(0,n.jsx)("i",{className:"fa fa-arrow-left"})})]})})]}),(0,n.jsxs)("div",{className:"col-lg-3 col-md-12 col-sm-12 ",children:[(0,n.jsx)("p",{className:"categories_title",children:"\u0627\u0644\u0645\u0642\u0627\u0644\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629"}),j.map((e=>(0,n.jsx)(t.N_,{to:"/blogdetails/".concat(e.id),style:{textDecoration:"none",color:"#000"},children:(0,n.jsxs)("div",{className:"categ_lastblog_cont",children:[(0,n.jsx)("img",{src:"https://res.cloudinary.com/durjqlivi/".concat(e.img),alt:"",className:"img-fluid img_last_blog",loading:"lazy"}),(0,n.jsx)("p",{className:"desc_last_blog",children:e.title})]})}))),(0,n.jsx)("p",{className:"categories_title",children:"\u0627\u0644\u062a\u0627\u063a\u0627\u062a "}),(0,n.jsx)("div",{className:"tags_btn_cont",children:h.map((e=>(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"button",className:"btn btn-outline-secondary mb-1",onClick:()=>(async e=>{try{const a=(await i.A.get("".concat(o.H,"/Tags/getBlogsByTag/").concat(e))).data.map((e=>({id:e.blog_id,title:e.title,author:e.author,descr:e.descr,img:e.img,Tag:e.Tag})));g(a)}catch(a){console.error("Failed to fetch blogs:",a)}})(e.tag_name),children:e.tag_name})},e.id)))})]})]})})})]})}}}]);
//# sourceMappingURL=14.a6aa416c.chunk.js.map