{"version":3,"file":"static/js/919.2883f444.chunk.js","mappings":"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","sources":["Pages/SignUp.js"],"sourcesContent":["import React from \"react\";\r\nimport \"../Css/auth.css\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../App\";\r\n\r\nfunction SignUp() {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"student\"); // default role\r\n\r\n  const [nameError, setNameError] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState(\"\");\r\n  const [error, setError] = useState('');\r\n\r\n  const validateName = (name) => {\r\n    if (name.trim() === \"\") {\r\n      setNameError(\"الرجاء أدخال الاسم !\");\r\n      return false;\r\n    } else {\r\n      setNameError(\"\");\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      setEmailError(\"الرجاء ادخال بريد الكتروني صحيح\");\r\n      return false;\r\n    } else {\r\n      setEmailError(\"\");\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const validatePassword = (password) => {\r\n    const passwordRegex =\r\n      /^(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[A-Z])[a-zA-Z0-9!@#$%^&*]{8,}$/;\r\n    if (!passwordRegex.test(password)) {\r\n      setPasswordError(\"الرجاء ادخال كلمة مرور قوية\");\r\n      return false;\r\n    } else {\r\n      setPasswordError(\"\");\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const isNameValid = validateName(name);\r\n    const isEmailValid = validateEmail(email);\r\n    const isPasswordValid = validatePassword(password);\r\n\r\n    if (!isNameValid || !isEmailValid || !isPasswordValid) {\r\n      return;\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n      setConfirmPasswordError(\"كلمة المرور غير متطابقة\");\r\n      return;\r\n    } else {\r\n      setConfirmPasswordError(\"\");\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${API_URL}/users/register`, {\r\n        name,\r\n        email,\r\n        password,\r\n        role,\r\n        confirmPassword,\r\n      });\r\n     \r\n      if (role === 'Student') {\r\n        window.location.href = \"/login\"; // Redirect to the login\r\n      } else {\r\n        setError(\"تم انشاء حساب\");\r\n      }\r\n      setName(\"\")\r\n      setEmail(\"\")\r\n      setPassword(\"\")\r\n      setConfirmPassword(\"\")\r\n          } catch (err) {\r\n            if (err.response && err.response.status === 400 && err.response.data === 'Email already in use') {\r\n              setEmailError(\"البريد الإلكتروني مستخدم. يرجى إدخال بريد إلكتروني آخر.\");\r\n            } else {\r\n              console.error(err);\r\n              setError(\"حدث خطأ ما. يرجى المحاولة مرة أخرى.\");\r\n            }\r\n          }\r\n        };\r\n  return (\r\n    <>\r\n      <section className=\"margin_section\">\r\n        <div className=\"container text-center\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-4 col-md-6 col-sm-12 box_purple_auth\">\r\n              <div className=\"\">\r\n                <div className=\"hello_logo_auth_cont\">\r\n                  <p className=\"hi_auth\">مرحباً بك</p>\r\n                  <img\r\n                    src={require(\"../assets/ba9ma2.webp\")}\r\n                    alt=\"ba9ma logo\"\r\n                    className=\"img-fluid logo_auth\"\r\n                    loading=\"lazy\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Link to=\"/login\">\r\n                    <button type=\"button\" className=\"btn auth_btn\">\r\n                      تسجيل الدخول\r\n                    </button>\r\n                  </Link>\r\n                  <Link to=\"/login\">\r\n                    <p className=\"have_account_auth\">\r\n                      لديك حساب قم بتسجيل الدخول{\" \"}\r\n                      <span className=\"have_account_here_auth\">من هنا</span>{\" \"}\r\n                    </p>\r\n                  </Link>\r\n                </div>\r\n              </div>{\" \"}\r\n            </div>\r\n\r\n            <div className=\"col-lg-8 col-md-6 col-sm-12 cont_input_auth \">\r\n              <div className=\"row mx-5 mt-5\">\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_input_auth\">الاسم</p>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={`search_blog ${nameError ? \"error\" : \"\"}`}\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    onBlur={() => validateName(name)}\r\n                  />\r\n                  {nameError && <p className=\"error_message\">{nameError}</p>}\r\n                </div>\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_input_auth\">البريد الالكتروني</p>\r\n                  <input\r\n                    type=\"email\"\r\n                    className={`search_blog ${emailError ? \"error\" : \"\"}`}\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    onBlur={() => validateEmail(email)}\r\n                  />\r\n                  {emailError && (\r\n                    <span className=\"error_message\">{emailError}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"row m-5\">\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12\">\r\n                  <p className=\"title_of_input_auth\">كلمة المرور</p>\r\n                  <input\r\n                    type=\"password\"\r\n                    className={`search_blog ${passwordError ? \"error\" : \"\"}`}\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    onBlur={() => validatePassword(password)}\r\n                  />\r\n                  {passwordError && (\r\n                    <p className=\"error_message\">{passwordError}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"col-lg-6 col-md-12 col-sm-12 \">\r\n                  <p className=\"title_of_input_auth\">نأكيد كلمة المرور </p>\r\n\r\n                  <input\r\n                    type=\"password\"\r\n                    className={`search_blog ${\r\n                      confirmPasswordError ? \"error\" : \"\"\r\n                    }`}\r\n                    value={confirmPassword}\r\n                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                  />\r\n                  {confirmPasswordError && (\r\n                    <p className=\"error_message\">{confirmPasswordError}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                <select\r\n                  className=\"select_role_auth\"\r\n                  value={role}\r\n                  onChange={(e) => setRole(e.target.value)}\r\n                >\r\n                  <option value=\"Student\">طالب </option>\r\n                  <option value=\"teacher\">معلم</option>\r\n                </select>\r\n                </div>\r\n\r\n              </div>\r\n                {error && <p className=\"error_message\">{error}</p>}\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleRegister}\r\n                className=\"btn purple_btn mb-2 px-5\"\r\n              >\r\n                التسجيل{\" \"}\r\n              </button>\r\n              <p className=\"error_message\">اذا قمت بتسجيل الدخول من هذا الجهاز، فستتمكن من المتابعة فقط من هذا الجهاز. </p>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n"],"names":["name","setName","useState","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","role","setRole","nameError","setNameError","emailError","setEmailError","passwordError","setPasswordError","confirmPasswordError","setConfirmPasswordError","error","setError","validateName","trim","validateEmail","test","validatePassword","_jsx","_Fragment","children","className","_jsxs","src","require","alt","loading","Link","to","type","concat","value","onChange","e","target","onBlur","onClick","async","preventDefault","isNameValid","isEmailValid","isPasswordValid","axios","post","API_URL","window","location","href","err","response","status","data","console"],"sourceRoot":""}